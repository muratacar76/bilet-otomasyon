<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - BULUTBÄ°LET.COM</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" type="image/x-icon" href="~/favicon.ico">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-content">
            <h1><a asp-controller="Home" asp-action="Index">BULUTBÄ°LET.COM</a></h1>
            <div class="navbar-links">
                <a asp-controller="Home" asp-action="Index" class="@(ViewContext.RouteData.Values["controller"]?.ToString() == "Home" && ViewContext.RouteData.Values["action"]?.ToString() == "Index" ? "active" : "")">Ana Sayfa</a>
                @if (!(User.IsInRole("Admin") || User.FindFirst("IsAdmin")?.Value == "true"))
                {
                    <a asp-controller="Booking" asp-action="Query" class="@(ViewContext.RouteData.Values["controller"]?.ToString() == "Booking" && ViewContext.RouteData.Values["action"]?.ToString() == "Query" ? "active" : "")">PNR Sorgula</a>
                }
                
                @if (User.Identity?.IsAuthenticated == true)
                {
                    <a asp-controller="Booking" asp-action="MyBookings" class="@(ViewContext.RouteData.Values["controller"]?.ToString() == "Booking" && ViewContext.RouteData.Values["action"]?.ToString() == "MyBookings" ? "active" : "")">RezervasyonlarÄ±m</a>
                    @if (User.IsInRole("Admin") || User.FindFirst("IsAdmin")?.Value == "true")
                    {
                        <a asp-controller="Admin" asp-action="Index" class="@(ViewContext.RouteData.Values["controller"]?.ToString() == "Admin" ? "active" : "")">Admin Panel</a>
                    }
                    <span>HoÅŸ geldin, @(User.FindFirst("FirstName")?.Value ?? User.Identity.Name)</span>
                    <form asp-controller="Auth" asp-action="Logout" method="post" style="display: inline;">
                        <button type="submit">Ã‡Ä±kÄ±ÅŸ Yap</button>
                    </form>
                }
                else
                {
                    <a asp-controller="Auth" asp-action="Login" class="@(ViewContext.RouteData.Values["controller"]?.ToString() == "Auth" && ViewContext.RouteData.Values["action"]?.ToString() == "Login" ? "active" : "")">GiriÅŸ Yap</a>
                    <a asp-controller="Auth" asp-action="Register" class="@(ViewContext.RouteData.Values["controller"]?.ToString() == "Auth" && ViewContext.RouteData.Values["action"]?.ToString() == "Register" ? "active" : "")">KayÄ±t Ol</a>
                }
            </div>
        </div>
    </nav>

    <main>
        @RenderBody()
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <h3>BULUTBÄ°LET.COM</h3>
                <p>Hayalinizdeki yolculuÄŸa baÅŸlamanÄ±n en kolay yolu. GÃ¼venli, hÄ±zlÄ± ve uygun fiyatlÄ± uÃ§ak bileti rezervasyonu.</p>
                <div class="footer-contact-quick">
                    <div class="quick-contact">
                        <span>ğŸ“</span>
                        <a href="tel:+902121234567">+90 (212) 123 45 67</a>
                    </div>
                    <div class="quick-contact">
                        <span>âœ‰ï¸</span>
                        <a href="mailto:info@bulutbilet.com">info@bulutbilet.com</a>
                    </div>
                    <div class="quick-contact">
                        <span>ğŸ•’</span>
                        <span>7/24 MÃ¼ÅŸteri Hizmetleri</span>
                    </div>
                </div>
            </div>

            <div class="footer-section">
                <h4>HÄ±zlÄ± Linkler</h4>
                <div class="footer-links-grid">
                    <a asp-controller="Home" asp-action="Index">Ana Sayfa</a>
                    @if (!(User.IsInRole("Admin") || User.FindFirst("IsAdmin")?.Value == "true"))
                    {
                        <a asp-controller="Booking" asp-action="Query">PNR Sorgula</a>
                    }
                    <a asp-controller="Home" asp-action="Campaigns">Kampanyalar</a>
                    <a asp-controller="Home" asp-action="FAQ">SÄ±k Sorulan Sorular</a>
                </div>
            </div>

            <div class="footer-section">
                <h4>Hesap</h4>
                <div class="footer-links-grid">
                    @if (User.Identity?.IsAuthenticated == true)
                    {
                        <a asp-controller="Booking" asp-action="MyBookings">RezervasyonlarÄ±m</a>
                        <a href="#" onclick="alert('Profil ayarlarÄ± yakÄ±nda aktif olacak!')">Profil AyarlarÄ±</a>
                        <a asp-controller="Auth" asp-action="Logout">Ã‡Ä±kÄ±ÅŸ Yap</a>
                    }
                    else
                    {
                        <a asp-controller="Auth" asp-action="Login">GiriÅŸ Yap</a>
                        <a asp-controller="Auth" asp-action="Register">KayÄ±t Ol</a>
                    }
                    <a asp-controller="Auth" asp-action="ForgotPassword">Åifremi Unuttum</a>
                    <a asp-controller="Home" asp-action="Help">YardÄ±m</a>
                </div>
            </div>

            <div class="footer-section">
                <h4>Bizi Takip Edin</h4>
                <div class="social-links-compact">
                    <a href="https://facebook.com/bulutbilet" target="_blank" class="social-icon facebook" title="Facebook'ta Takip Edin">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://twitter.com/bulutbilet" target="_blank" class="social-icon twitter" title="Twitter'da Takip Edin">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://instagram.com/bulutbilet" target="_blank" class="social-icon instagram" title="Instagram'da Takip Edin">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://linkedin.com/company/bulutbilet" target="_blank" class="social-icon linkedin" title="LinkedIn'de Takip Edin">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://youtube.com/bulutbilet" target="_blank" class="social-icon youtube" title="YouTube'da Takip Edin">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
                <div class="footer-legal-links">
                    <a asp-controller="Legal" asp-action="Privacy">Gizlilik PolitikasÄ±</a>
                    <a asp-controller="Legal" asp-action="Terms">KullanÄ±m ÅartlarÄ±</a>
                    <a asp-controller="Legal" asp-action="Cookies">Ã‡erez PolitikasÄ±</a>
                    <a asp-controller="Legal" asp-action="KVKK">KVKK</a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p>&copy; 2024 BULUTBÄ°LET.COM - TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
                <p class="footer-location">Ä°stanbul, TÃ¼rkiye</p>
            </div>
        </div>
    </footer>

    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>